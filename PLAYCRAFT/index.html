<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Playcraft</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="img/logo.ico">
    <!-- GOOGLE FONTS CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Poppins&display=swap">

    <!-- FONT AWESOME CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <!DOCTYPE html>
<html lang="en">

<head>
    <title>Obƒçutljiva Operacija</title>
</head>

<body>

    <button id="sensitiveOperationBtn">Izvedi obƒçutljivo operacijo</button>

    <script>
        document.getElementById('sensitiveOperationBtn').addEventListener('click', function () {
            // Po≈°lji asinhrono zahtevo na server na endpoint /sensitive-operation
            fetch('/sensitive-operation', {
                method: 'POST',
                credentials: 'same-origin',
                headers: {
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json())
            .then(data => {
                alert(data.message);
            })
            .catch(error => {
                console.error('Napaka pri obƒçutljivi operaciji:', error);
                alert('Napaka pri obƒçutljivi operaciji');
            });
        });
    </script>

<div id="posts"></div>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const postsContainer = document.getElementById('posts');

        // Function to render posts and comments
        function renderPosts(posts) {
            postsContainer.innerHTML = '';

            posts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.innerHTML = `
                    <h2>${post.title}</h2>
                    <ul>
                        ${post.comments.map(comment => `
                            <li>
                                <strong>${comment.user}</strong>:
                                ${comment.content} (Rating: ${comment.rating})
                            </li>
                        `).join('')}
                    </ul>
                    <button onclick="addComment(${post.id})">Add Comment</button>
                `;

                postsContainer.appendChild(postElement);
            });
        }

        // Function to add a new comment
        function addComment(postId) {
            const user = prompt('Enter your name:');
            const content = prompt('Enter your comment:');
            const rating = parseInt(prompt('Enter your rating (1-5):'));

            fetch(`/posts/${postId}/comments`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ user, content, rating }),
            })
            .then(response => response.json())
            .then(newComment => {
                // Fetch and render posts after adding a comment
                fetch('/posts')
                .then(response => response.json())
                .then(renderPosts);
            })
            .catch(error => console.error('Error adding comment:', error));
        }

        // Fetch initial posts on page load
        fetch('/posts')
        .then(response => response.json())
        .then(renderPosts);
    });
    </script>

</body>

</html>


    <header>
        <div class="container">
            <div class="logoArea">
                <a href="/" class="image"><img src="./img/pc2.png"></a>
                <a href="/" class="siteName">
                    <h1><span class="highlight">Play</span>craft</h1>
                </a>
            </div>
            <div class="menuArea">
                <i class="fa fa-bars menuBtn"></i>
            </div>
            <div class="navBar">
                <ul>
                    <li><a href="index.html" class="active">üè†Home</a></li>
                    <li><a href="categoryGame.html">üèπAction</a></li>
                    <li><a href="categoryGame.html">üîëAdventure</a></li>
                    <li><a href="categoryGame.html">üíÉSimulation</a></li>
                    <li><a href="categoryGame.html">üå¥Survival</a></li>
                    <li><a href="categoryGame.html">‚öΩSports</a></li>
                    <li><a href="categoryGame.html">üöóRacing</a></li>
                    <li><a href="categoryGame.html">üíÄHorror</a></li>
                    <li><a href="create.html">‚úçüèª Create post</a></li>
                    <li><a href="#" id="logoutBtn">üö™LogOut</a></li>
                    <li><a href="profile.html">üë®‚Äçüíª My Profile</a></li>
                    <li><a href="login.html">üîë LogIn</a></li>
                    <li><a href="register.html">‚úçüèª Register</a></li>
                </ul>
            </div>
        </div>
    </header>

    <div id="hero-banner">
        <div class="textArea">
            <h1><span class="highlight">Play</span>craft</h1>
            <p>Welcome to our website. On this site you can download the popular games. </p>
               <p>If you
                like the
                page, you can follow it!</p>
            <a href="#main" class="btn">Get Started</a>
        </div>
        <svg class="banner-wave" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 250">
            <path fill="#f8f8f8" fill-opacity="1"
                d="M0,96L120,122.7C240,149,480,203,720,218.7C960,235,1200,213,1320,202.7L1440,192L1440,320L1320,320C1200,320,960,320,720,320C480,320,240,320,120,320L0,320Z">
            </path>
        </svg>
    </div>

    <main id="main">
        <div class="main-container">
            <section>
            
                <div class="article-area">
                    <article>
                        <a href="gameDetails.html"><img src="./img/3.png" alt=""></a>
                        <div class="article-container">
                            <h1><a href="gameDetails.html">Tic - Tac - Toe</a></h1>
                            <hr>
                            <h2><i class="fas fa-user"></i><a href="">Playcraft </a><i class="far fa-clock"></i> November
                                22,2023</h2>
                            <p></p>
                            <button onclick="likeGame(this)" data-game="Tic - Tac - Toe" class="like-btn">‚ù§Ô∏è Like</button>
                        </div>
                    </article>
                    <article>
                        <a href="gameDetails.html"><img src="./img/hm.png" alt=""></a>
                        <div class="article-container">
                            <h1><a href="gameDetails.html">Hangman</a></h1>
                            <hr>
                            <h2><i class="fas fa-user"></i><a href="">Playcraft </a><i class="far fa-clock"></i> November
                                22,2023</h2>
                            <p> </p>
                            <button onclick="likeGame(this)" data-game="Hangman" class="like-btn">‚ù§Ô∏è Like</button>
                        </div>
                    </article>
                    <article>
                        <a href="gameDetails.html"><img src="./img/ng.png" alt=""></a>
                        <div class="article-container">
                            <h1><a href="gameDetails.html">My number</a></h1>
                            <hr>
                            <h2><i class="fas fa-user"></i><a href="">Playcraft </a><i class="far fa-clock"></i> November
                                22,2023</h2>
                            <p></p>
                            <button onclick="likeGame(this)" data-game="My number" class="like-btn">‚ù§Ô∏è Like</button>
                        </div>
                    </article>
                    <article>
                        <a href="gameDetails.html"><img src="./img/puzzle2.png" alt=""></a>
                        <div class="article-container">
                            <h1><a href="gameDetails.html">Puzzle</a></h1>
                            <hr>
                            <h2><i class="fas fa-user"></i><a href="">Playcraft </a><i class="far fa-clock"></i> November
                                22,2023</h2>
                            <p></p>
                            <button onclick="likeGame(this)" data-game="Puzzle" class="like-btn">‚ù§Ô∏è Like</button>
                        </div>
                    </article>

                </div>
                <div class="buttonArea">
                    <a href="" class="btn">LOAD MORE POSTS</a>
                </div>
            </section>

            <aside>
                <div class="box socialMedia">
                    <div class="container">
                        <div class="header">
                            <h1>Connect with Us</h1>
                            <p>Follow us on various platforms to stay updated!</p>
                        </div>
                        <div class="content">
                            <div class="post">
                                <a href="https://facebook.com" target="_blank" class="social-link" data-tooltip="Visit us on Facebook">
                                    <i class="fab fa-facebook-f"></i>
                                </a>
                                <a href="https://instagram.com" target="_blank" class="social-link" data-tooltip="Check out our Instagram">
                                    <i class="fab fa-instagram"></i>
                                </a>
                                <a href="https://twitter.com" target="_blank" class="social-link" data-tooltip="Follow us on Twitter">
                                    <i class="fab fa-twitter"></i>
                                </a>
                                <a href="https://youtube.com" target="_blank" class="social-link" data-tooltip="Subscribe to our YouTube channel">
                                    <i class="fab fa-youtube"></i>
                                </a>
                                <a href="https://github.com/muki01" target="_blank" class="social-link" data-tooltip="Contribute on GitHub">
                                    <i class="fab fa-github"></i>
                                </a>
                            </div>
                        </div>
                        <div class="footer">
                            <p>Connect with us and explore more exciting content!</p>
                        </div>
                    </div>
                    <script>
                        // JavaScript function to add tooltips to social media links
                        document.addEventListener("DOMContentLoaded", function () {
                            const socialLinks = document.querySelectorAll(".social-link");
                
                            socialLinks.forEach(function (link) {
                                link.addEventListener("mouseover", function () {
                                    const tooltipText = link.getAttribute("data-tooltip");
                                    const tooltip = document.createElement("div");
                                    tooltip.className = "tooltip";
                                    tooltip.textContent = tooltipText;
                                    document.body.appendChild(tooltip);
                
                                    const linkRect = link.getBoundingClientRect();
                                    const tooltipRect = tooltip.getBoundingClientRect();
                
                                    tooltip.style.top = linkRect.top - tooltipRect.height - 10 + "px";
                                    tooltip.style.left = linkRect.left + linkRect.width / 2 - tooltipRect.width / 2 + "px";
                                });
                
                                link.addEventListener("mouseout", function () {
                                    const tooltip = document.querySelector(".tooltip");
                                    if (tooltip) {
                                        tooltip.remove();
                                    }
                                });
                            });
                        });
                    </script>
                </div>                
                
                <div class="box searchBox">
                    <div class="container">
                        <h1>Search</h1>
                        <hr>
                        <div class="post">
                            <input 
                                type="text" 
                                placeholder="Search this website" 
                                class="searchInput"
                            >
                            <a href="#" class="searchButton">Search</a>
                        </div>
                    </div>
                </div>

                <div class="box popularPost">
                    <div class="container">
                        <h1>Popular Games</h1>
                        <hr>
                        <div class="post">
                            <a href="gameDetails.html"><img src="./img/sudoku.png"></a>
                            <a href="gameDetails.html">
                                <h2>Sudoku </h2>
                            </a>
                        </div>
                        <div class="post">
                            <a href="gameDetails.html"><img src="./img/papas.avif"></a>
                            <a href="gameDetails.html">
                                <h2>Papa's Pizzeria </h2>
                            </a>
                        </div>
                        <div class="post">
                            <a href="gameDetails.html"><img src="./img/pants.jpg"></a>
                            <a href="gameDetails.html">
                                <h2>The Fancy Pants Adventures </h2>
                            </a>
                        </div>

                        
                    </div>
                </div>
                
                <div class="box aboutMe">
                    <div class="container">
                        <h1>Your Profile</h1>
                        <hr>
                        <div class="post">
                            <a href="profile.html"><img src="./img/profil-logo.jpg"></a>
                            <div class="textArea">
                                <a href="profile.html">
                                    <h2>PLAYCRAFT TEAM</h2>
                                </a>
                                <a href="profile.html">
                                    <h3>View complete profile</h3>
                                </a>
                            </div>
                        </div>
                       
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="navBar">
                <ul>
                    <li><a href="/">HOME</a></li>
                    <li><a href="#">ABOUT</a></li>
                    <li><a href="#">CONTACT US</a></li>
                </ul>
            </div>
            <div class="textArea">
                <h1>Designed with<span class="purple"> ‚ù§</span> by
                    <a><span class="colored">PLAYCRAFT TEAM</span></a> | Distributed by
                    <a><span class="colored">PLAYCRAFT TEAM</span></a>
                </h1>
            </div>
        </div>
    </footer>
    <script>
        
        document.addEventListener("DOMContentLoaded", function () {
            function likeGame(likeButton) {
            const gameName = likeButton.dataset.game;
            const articleContainer = likeButton.closest('.article-container');
            articleContainer.classList.toggle('liked');
            likeButton.classList.toggle('clicked');
        }

            const logoutBtn = document.getElementById("logoutBtn");

            logoutBtn.addEventListener("click", function () {
                fetch('/logout', {
                    method: 'POST',
                    credentials: 'same-origin',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                })
                .then(response => response.json())
                .then(data => {
                    alert("Uspe≈°no odjavljeni!");
                    window.location.href = '/login'; // primer preusmeritve na stran za prijavo
                })
                .catch(error => {
                    console.error('Napaka pri odjavi:', error);
                });
            });
        });
        
        
    </script>


</body>
<script src="js/navbar.js"></script>

</html>




